{% extends 'paciente/base.html' %}

{% block content %}


<style type="text/css">
    table {
        width: 100%;
        border-collapse: collapse;
    }


    /* Zebra striping */

    tr:nth-of-type(odd) {
        background: #f4f4f4;
    }

    tr:nth-of-type(even) {
        background: #fff;
    }

    th {
        background: #782f40;
        color: #ffffff;
        font-weight: 300;
    }

    td,
    th {
        padding: 10px;
        border: 1px solid #ccc;
        text-align: left;
    }

    td:nth-of-type(1) {
        font-weight: 500 !important;
    }

    td {
        font-family: 'Roboto', sans-serif !important;
        font-weight: 300;
        line-height: 20px;
    }

    span {
        font-style: italic
    }

    @media only screen and (max-width: 760px),
    (min-device-width: 768px) and (max-device-width: 1024px) {

        /* Force table to not be like tables anymore */
        table.responsive,
        .responsive thead,
        .responsive tbody,
        .responsive th,
        .responsive td,
        .responsive tr {
            display: block !important;
        }

        /* Hide table headers (but not display: none;, for accessibility) */
        .responsive thead tr {
            position: absolute !important;
            top: -9999px;
            left: -9999px;
        }

        .responsive tr {
            border: 1px solid #ccc;
        }

        .responsive td {
            /* Behave  like a "row" */
            border: none;
            border-bottom: 1px solid #eee !important;
            position: relative !important;
            padding-left: 25% !important;
        }

        .responsive td:before {
            /* Now like a table header */
            position: absolute !important;
            /* Top/left values mimic padding */
            top: 6px;
            left: 6px;
            width: 45%;
            padding-right: 10px;
            white-space: nowrap !important;
            font-weight: 500 !important;
        }

        /*
	Label the data
	*/
        .responsive td:before {
            content: attr(data-table-header) !important;
        }
    }
</style>


<script>
    $(document).ready(function () {
        $("#sort").DataTable({
            "serverSide": true,
        });
    });



</script>

<div class="main col-lg-10">
    <div class="content">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Indice de Historias Cl√≠nicas
                    </div>

                    <div class="panel-body">

                        <div class="col-lg-12" align="center" style="margin-bottom: 1%;">
                            <form action="." method="GET" class="form-inline">
                                <div class="form-group flex-grow-1">
                                    <input id="id_search" name="search" class="form-control flex-grow-1 rounded"
                                        type="text" size="50" />
                                </div>
                            </form>
                        </div>

                        <table id="sort" class="table table-striped table-inverse table-responsive table-bordered"
                            width="100%">
                            <thead class="thead">
                                <tr>
                                    <th style="text-align: center;">Nombre</th>
                                    <th style="text-align: center;">Documento</th>
                                </tr>
                            </thead>
                            <tbody class="tbody">
                                {% for paciente in paciente_list %}
                                <tr>
                                    <td data-table-header="Nombre">{{ paciente.nombre}} {{paciente.apellido }}</td>
                                    <td data-table-header="Documento">{{paciente.documentonumero}}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>


                        <div class="col-lg-12" align="center">
                            <div>
                                {% load paginator_tags %}
                                {% get_proper_elided_page_range page_obj.paginator page_obj.number 1 1 as page_range%}
                                <ul class="pagination justify-content-center">
                                    {% if page_obj.has_previous %}
                                    <li class="page-item">
                                        <a class="page-link"
                                            href="?page={{ page_obj.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}"
                                            aria-label="Prev" style="left: -20px;">
                                            < <!--span aria-hidden="true"><i class="fa-solid fa-arrow-left"></i>
                                                </span-->
                                        </a>
                                    </li>
                                    {% else %}
                                    <li class="page-item disabled">
                                        <a class="disabled page-link" href="#" aria-label="Prev" style="left: -20px;">
                                            < <!--span aria-hidden="true"><i class="fa-solid fa-arrow-left"></i>
                                                </span-->
                                        </a>
                                    </li>
                                    {% endif %}


                                    {% for numpage in page_range %}
                                    {% if page_obj.number == numpage %}
                                    <li class="active page-item" aria-current="page">
                                        <a class="page-link" href="#">
                                            {{ numpage }}
                                            <span class="sr-only">(current)</span>
                                        </a>
                                    </li>
                                    {% else %}
                                    {% if numpage == page_obj.paginator.ELLIPSIS %}
                                    <li class="page-item" aria-current="page">
                                        <a class="page-link">
                                            {{ numpage }}
                                        </a>
                                    </li>
                                    {% else %}
                                    <li class="page-item" aria-current="page">
                                        <a class="page-link"
                                            href="?page={{ numpage }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}">
                                            {{ numpage }}
                                        </a>
                                    </li>
                                    {% endif %}
                                    {% endif %}
                                    {% endfor %}

                                    {% if page_obj.has_next %}
                                    <li class "page-item">
                                        <a class="page-link"
                                            href="?page={{ page_obj.next_page_number }}&search={{ request.GET.search }}"
                                            aria-label="Next" style="left: 20px">
                                            >
                                            <!--span aria-hidden="true"><i class="fa-solid fa-arrow-right"></i></span-->
                                        </a>
                                    </li>
                                    {% else %}
                                    <li class="page-item disabled">
                                        <a class="disabled page-link" href="#" aria-label="Next" style="left: 20px">
                                            >
                                            <!--span aria-hidden="true"><i class="fa-solid fa-arrow-right"></i></span-->
                                        </a>
                                    </li>
                                    {% endif %}

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endblock content %}